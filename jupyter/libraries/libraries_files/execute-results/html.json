{
  "hash": "65dce6ee736a9e6d40c1298a9d8f6756",
  "result": {
    "engine": "jupyter",
    "markdown": "!uv pip install sql\n!uv pip install ipython-sql\n\n::: {#cell-1 .cell execution_count=1}\n``` {.python .cell-code}\n%%capture\n%load_ext sql\n%sql sqlite:///library.db\n%config SqlMagic.style = '_DEPRECATED_DEFAULT'\n```\n:::\n\n\n::: {#cell-2 .cell execution_count=2}\n``` {.python .cell-code}\n%%sql\n-- Listing 9-1: Creating and filling the 2018 Public Libraries Survey table\n\n\nDROP TABLE IF EXISTS pls_fy2018_libraries;\n\nCREATE TABLE pls_fy2018_libraries (\n    stabr text NOT NULL,\n    fscskey text CONSTRAINT fscskey_2018_pkey PRIMARY KEY,\n    libid text NOT NULL,\n    libname text NOT NULL,\n    address text NOT NULL,\n    city text NOT NULL,\n    zip text NOT NULL,\n    county text NOT NULL,\n    phone text NOT NULL,\n    c_relatn text NOT NULL,\n    c_legbas text NOT NULL,\n    c_admin text NOT NULL,\n    c_fscs text NOT NULL,\n    geocode text NOT NULL,\n    lsabound text NOT NULL,\n    startdate text NOT NULL,\n    enddate text NOT NULL,\n    popu_lsa integer NOT NULL,\n    popu_und integer NOT NULL,\n    centlib integer NOT NULL,\n    branlib integer NOT NULL,\n    bkmob integer NOT NULL,\n    totstaff numeric(8,2) NOT NULL,\n    bkvol integer NOT NULL,\n    ebook integer NOT NULL,\n    audio_ph integer NOT NULL,\n    audio_dl integer NOT NULL,\n    video_ph integer NOT NULL,\n    video_dl integer NOT NULL,\n    ec_lo_ot integer NOT NULL,\n    subscrip integer NOT NULL,\n    hrs_open integer NOT NULL,\n    visits integer NOT NULL,\n    reference integer NOT NULL,\n    regbor integer NOT NULL,\n    totcir integer NOT NULL,\n    kidcircl integer NOT NULL,\n    totpro integer NOT NULL,\n    gpterms integer NOT NULL,\n    pitusr integer NOT NULL,\n    wifisess integer NOT NULL,\n    obereg text NOT NULL,\n    statstru text NOT NULL,\n    statname text NOT NULL,\n    stataddr text NOT NULL,\n    longitude numeric(10,7) NOT NULL,\n    latitude numeric(10,7) NOT NULL\n);\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n * sqlite:///library.db\nDone.\nDone.\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=2}\n```\n[]\n```\n:::\n:::\n\n\n::: {#cell-3 .cell execution_count=3}\n``` {.python .cell-code}\n%%sql\nSELECT * FROM pls_fy2018_libraries\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n * sqlite:///library.db\nDone.\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=3}\n```{=html}\n<table>\n    <thead>\n        <tr>\n            <th>stabr</th>\n            <th>fscskey</th>\n            <th>libid</th>\n            <th>libname</th>\n            <th>address</th>\n            <th>city</th>\n            <th>zip</th>\n            <th>county</th>\n            <th>phone</th>\n            <th>c_relatn</th>\n            <th>c_legbas</th>\n            <th>c_admin</th>\n            <th>c_fscs</th>\n            <th>geocode</th>\n            <th>lsabound</th>\n            <th>startdate</th>\n            <th>enddate</th>\n            <th>popu_lsa</th>\n            <th>popu_und</th>\n            <th>centlib</th>\n            <th>branlib</th>\n            <th>bkmob</th>\n            <th>totstaff</th>\n            <th>bkvol</th>\n            <th>ebook</th>\n            <th>audio_ph</th>\n            <th>audio_dl</th>\n            <th>video_ph</th>\n            <th>video_dl</th>\n            <th>ec_lo_ot</th>\n            <th>subscrip</th>\n            <th>hrs_open</th>\n            <th>visits</th>\n            <th>reference</th>\n            <th>regbor</th>\n            <th>totcir</th>\n            <th>kidcircl</th>\n            <th>totpro</th>\n            <th>gpterms</th>\n            <th>pitusr</th>\n            <th>wifisess</th>\n            <th>obereg</th>\n            <th>statstru</th>\n            <th>statname</th>\n            <th>stataddr</th>\n            <th>longitude</th>\n            <th>latitude</th>\n        </tr>\n    </thead>\n    <tbody>\n    </tbody>\n</table>\n```\n:::\n:::\n\n\n::: {#cell-4 .cell execution_count=4}\n``` {.python .cell-code}\n%%sh\n./importCSV.sh pls_fy2018_libraries.csv library.db pls_fy2018_libraries\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nâœ… Imported 'pls_fy2018_libraries.csv' into table 'pls_fy2018_libraries' in 'library.db'\n```\n:::\n:::\n\n\n::: {#cell-5 .cell execution_count=5}\n``` {.python .cell-code}\n%%sql\nSELECT * FROM pls_fy2018_libraries\nLIMIT 5;\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n * sqlite:///library.db\nDone.\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=5}\n```{=html}\n<table>\n    <thead>\n        <tr>\n            <th>stabr</th>\n            <th>fscskey</th>\n            <th>libid</th>\n            <th>libname</th>\n            <th>address</th>\n            <th>city</th>\n            <th>zip</th>\n            <th>county</th>\n            <th>phone</th>\n            <th>c_relatn</th>\n            <th>c_legbas</th>\n            <th>c_admin</th>\n            <th>c_fscs</th>\n            <th>geocode</th>\n            <th>lsabound</th>\n            <th>startdate</th>\n            <th>enddate</th>\n            <th>popu_lsa</th>\n            <th>popu_und</th>\n            <th>centlib</th>\n            <th>branlib</th>\n            <th>bkmob</th>\n            <th>totstaff</th>\n            <th>bkvol</th>\n            <th>ebook</th>\n            <th>audio_ph</th>\n            <th>audio_dl</th>\n            <th>video_ph</th>\n            <th>video_dl</th>\n            <th>ec_lo_ot</th>\n            <th>subscrip</th>\n            <th>hrs_open</th>\n            <th>visits</th>\n            <th>reference</th>\n            <th>regbor</th>\n            <th>totcir</th>\n            <th>kidcircl</th>\n            <th>totpro</th>\n            <th>gpterms</th>\n            <th>pitusr</th>\n            <th>wifisess</th>\n            <th>obereg</th>\n            <th>statstru</th>\n            <th>statname</th>\n            <th>stataddr</th>\n            <th>longitude</th>\n            <th>latitude</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>AK</td>\n            <td>AK0001</td>\n            <td>AK0001-002</td>\n            <td>ANCHOR POINT PUBLIC LIBRARY</td>\n            <td>34020 NORTH FORK ROAD</td>\n            <td>ANCHOR POINT</td>\n            <td>99556</td>\n            <td>KENAI PENINSULA</td>\n            <td>9072355692</td>\n            <td>NO</td>\n            <td>NP</td>\n            <td>SO</td>\n            <td>Y</td>\n            <td>CI1</td>\n            <td>N</td>\n            <td>7/1/17</td>\n            <td>6/30/18</td>\n            <td>2057</td>\n            <td>2040</td>\n            <td>1</td>\n            <td>0</td>\n            <td>0</td>\n            <td>0.67</td>\n            <td>18201</td>\n            <td>0</td>\n            <td>179</td>\n            <td>0</td>\n            <td>3320</td>\n            <td>0</td>\n            <td>0</td>\n            <td>9</td>\n            <td>1245</td>\n            <td>6032</td>\n            <td>4</td>\n            <td>1726</td>\n            <td>11316</td>\n            <td>2294</td>\n            <td>60</td>\n            <td>8</td>\n            <td>1495</td>\n            <td>1182</td>\n            <td>08</td>\n            <td>00</td>\n            <td>00</td>\n            <td>00</td>\n            <td>-151.825</td>\n            <td>59.77965</td>\n        </tr>\n        <tr>\n            <td>AK</td>\n            <td>AK0002</td>\n            <td>AK0002-011</td>\n            <td>ANCHORAGE PUBLIC LIBRARY</td>\n            <td>3600 DENALI STREET</td>\n            <td>ANCHORAGE</td>\n            <td>99503</td>\n            <td>ANCHORAGE</td>\n            <td>9073432892</td>\n            <td>NO</td>\n            <td>CO</td>\n            <td>MO</td>\n            <td>Y</td>\n            <td>MA1</td>\n            <td>N</td>\n            <td>1/1/17</td>\n            <td>12/31/17</td>\n            <td>295365</td>\n            <td>292940</td>\n            <td>1</td>\n            <td>4</td>\n            <td>0</td>\n            <td>76.65</td>\n            <td>370812</td>\n            <td>21587</td>\n            <td>30963</td>\n            <td>12992</td>\n            <td>76404</td>\n            <td>0</td>\n            <td>14</td>\n            <td>7311</td>\n            <td>11400</td>\n            <td>723272</td>\n            <td>54306</td>\n            <td>135828</td>\n            <td>1574942</td>\n            <td>553651</td>\n            <td>1924</td>\n            <td>165</td>\n            <td>126846</td>\n            <td>90135</td>\n            <td>08</td>\n            <td>00</td>\n            <td>00</td>\n            <td>00</td>\n            <td>-149.876</td>\n            <td>61.18744</td>\n        </tr>\n        <tr>\n            <td>AK</td>\n            <td>AK0003</td>\n            <td>AK0003-002</td>\n            <td>ANDERSON COMMUNITY LIBRARY</td>\n            <td>101 FIRST STREET</td>\n            <td>ANDERSON</td>\n            <td>99744</td>\n            <td>DENALI</td>\n            <td>9075822628</td>\n            <td>NO</td>\n            <td>CI</td>\n            <td>SO</td>\n            <td>Y</td>\n            <td>CI1</td>\n            <td>N</td>\n            <td>7/1/17</td>\n            <td>6/30/18</td>\n            <td>269</td>\n            <td>267</td>\n            <td>1</td>\n            <td>0</td>\n            <td>0</td>\n            <td>0.75</td>\n            <td>15314</td>\n            <td>0</td>\n            <td>201</td>\n            <td>0</td>\n            <td>1403</td>\n            <td>0</td>\n            <td>0</td>\n            <td>0</td>\n            <td>480</td>\n            <td>592</td>\n            <td>300</td>\n            <td>113</td>\n            <td>1137</td>\n            <td>264</td>\n            <td>4</td>\n            <td>5</td>\n            <td>225</td>\n            <td>0</td>\n            <td>08</td>\n            <td>00</td>\n            <td>00</td>\n            <td>00</td>\n            <td>-149.187</td>\n            <td>64.34363</td>\n        </tr>\n        <tr>\n            <td>AK</td>\n            <td>AK0006</td>\n            <td>AK0006-002</td>\n            <td>KUSKOKWIM CONSORTIUM LIBRARY</td>\n            <td>420 CHIEF EDDIE HOFFMAN HIGHWAY</td>\n            <td>BETHEL</td>\n            <td>99559</td>\n            <td>BETHEL</td>\n            <td>9075434516</td>\n            <td>NO</td>\n            <td>MJ</td>\n            <td>SO</td>\n            <td>Y</td>\n            <td>CI1</td>\n            <td>N</td>\n            <td>7/1/17</td>\n            <td>6/30/18</td>\n            <td>6135</td>\n            <td>6085</td>\n            <td>1</td>\n            <td>0</td>\n            <td>0</td>\n            <td>3</td>\n            <td>34860</td>\n            <td>21587</td>\n            <td>425</td>\n            <td>12992</td>\n            <td>3782</td>\n            <td>0</td>\n            <td>0</td>\n            <td>5</td>\n            <td>2040</td>\n            <td>51000</td>\n            <td>1530</td>\n            <td>1912</td>\n            <td>14067</td>\n            <td>3746</td>\n            <td>406</td>\n            <td>8</td>\n            <td>6600</td>\n            <td>5716</td>\n            <td>08</td>\n            <td>00</td>\n            <td>00</td>\n            <td>00</td>\n            <td>-161.771</td>\n            <td>60.79114</td>\n        </tr>\n        <tr>\n            <td>AK</td>\n            <td>AK0007</td>\n            <td>AK0007-002</td>\n            <td>BIG LAKE PUBLIC LIBRARY</td>\n            <td>3140 SOUTH BIG LAKE ROAD</td>\n            <td>BIG LAKE</td>\n            <td>99652</td>\n            <td>MATANUSKA-SUSITNA</td>\n            <td>9078617635</td>\n            <td>NO</td>\n            <td>CO</td>\n            <td>SO</td>\n            <td>Y</td>\n            <td>CO1</td>\n            <td>N</td>\n            <td>7/1/17</td>\n            <td>6/30/18</td>\n            <td>12847</td>\n            <td>12742</td>\n            <td>1</td>\n            <td>0</td>\n            <td>0</td>\n            <td>3</td>\n            <td>28698</td>\n            <td>21587</td>\n            <td>2140</td>\n            <td>12992</td>\n            <td>3805</td>\n            <td>0</td>\n            <td>0</td>\n            <td>47</td>\n            <td>2551</td>\n            <td>62249</td>\n            <td>887</td>\n            <td>2890</td>\n            <td>36670</td>\n            <td>15691</td>\n            <td>363</td>\n            <td>18</td>\n            <td>15022</td>\n            <td>8125</td>\n            <td>08</td>\n            <td>00</td>\n            <td>00</td>\n            <td>00</td>\n            <td>-149.819</td>\n            <td>61.5475</td>\n        </tr>\n    </tbody>\n</table>\n```\n:::\n:::\n\n\n::: {#cell-6 .cell execution_count=6}\n``` {.python .cell-code}\n%%sql\nCREATE INDEX libname_2018_idx ON pls_fy2018_libraries (libname);\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n * sqlite:///library.db\nDone.\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=6}\n```\n[]\n```\n:::\n:::\n\n\n::: {#cell-7 .cell execution_count=7}\n``` {.python .cell-code}\n%%sql\nSELECT * FROM pls_fy2018_libraries LIMIT 5;\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n * sqlite:///library.db\nDone.\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=7}\n```{=html}\n<table>\n    <thead>\n        <tr>\n            <th>stabr</th>\n            <th>fscskey</th>\n            <th>libid</th>\n            <th>libname</th>\n            <th>address</th>\n            <th>city</th>\n            <th>zip</th>\n            <th>county</th>\n            <th>phone</th>\n            <th>c_relatn</th>\n            <th>c_legbas</th>\n            <th>c_admin</th>\n            <th>c_fscs</th>\n            <th>geocode</th>\n            <th>lsabound</th>\n            <th>startdate</th>\n            <th>enddate</th>\n            <th>popu_lsa</th>\n            <th>popu_und</th>\n            <th>centlib</th>\n            <th>branlib</th>\n            <th>bkmob</th>\n            <th>totstaff</th>\n            <th>bkvol</th>\n            <th>ebook</th>\n            <th>audio_ph</th>\n            <th>audio_dl</th>\n            <th>video_ph</th>\n            <th>video_dl</th>\n            <th>ec_lo_ot</th>\n            <th>subscrip</th>\n            <th>hrs_open</th>\n            <th>visits</th>\n            <th>reference</th>\n            <th>regbor</th>\n            <th>totcir</th>\n            <th>kidcircl</th>\n            <th>totpro</th>\n            <th>gpterms</th>\n            <th>pitusr</th>\n            <th>wifisess</th>\n            <th>obereg</th>\n            <th>statstru</th>\n            <th>statname</th>\n            <th>stataddr</th>\n            <th>longitude</th>\n            <th>latitude</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>AK</td>\n            <td>AK0001</td>\n            <td>AK0001-002</td>\n            <td>ANCHOR POINT PUBLIC LIBRARY</td>\n            <td>34020 NORTH FORK ROAD</td>\n            <td>ANCHOR POINT</td>\n            <td>99556</td>\n            <td>KENAI PENINSULA</td>\n            <td>9072355692</td>\n            <td>NO</td>\n            <td>NP</td>\n            <td>SO</td>\n            <td>Y</td>\n            <td>CI1</td>\n            <td>N</td>\n            <td>7/1/17</td>\n            <td>6/30/18</td>\n            <td>2057</td>\n            <td>2040</td>\n            <td>1</td>\n            <td>0</td>\n            <td>0</td>\n            <td>0.67</td>\n            <td>18201</td>\n            <td>0</td>\n            <td>179</td>\n            <td>0</td>\n            <td>3320</td>\n            <td>0</td>\n            <td>0</td>\n            <td>9</td>\n            <td>1245</td>\n            <td>6032</td>\n            <td>4</td>\n            <td>1726</td>\n            <td>11316</td>\n            <td>2294</td>\n            <td>60</td>\n            <td>8</td>\n            <td>1495</td>\n            <td>1182</td>\n            <td>08</td>\n            <td>00</td>\n            <td>00</td>\n            <td>00</td>\n            <td>-151.825</td>\n            <td>59.77965</td>\n        </tr>\n        <tr>\n            <td>AK</td>\n            <td>AK0002</td>\n            <td>AK0002-011</td>\n            <td>ANCHORAGE PUBLIC LIBRARY</td>\n            <td>3600 DENALI STREET</td>\n            <td>ANCHORAGE</td>\n            <td>99503</td>\n            <td>ANCHORAGE</td>\n            <td>9073432892</td>\n            <td>NO</td>\n            <td>CO</td>\n            <td>MO</td>\n            <td>Y</td>\n            <td>MA1</td>\n            <td>N</td>\n            <td>1/1/17</td>\n            <td>12/31/17</td>\n            <td>295365</td>\n            <td>292940</td>\n            <td>1</td>\n            <td>4</td>\n            <td>0</td>\n            <td>76.65</td>\n            <td>370812</td>\n            <td>21587</td>\n            <td>30963</td>\n            <td>12992</td>\n            <td>76404</td>\n            <td>0</td>\n            <td>14</td>\n            <td>7311</td>\n            <td>11400</td>\n            <td>723272</td>\n            <td>54306</td>\n            <td>135828</td>\n            <td>1574942</td>\n            <td>553651</td>\n            <td>1924</td>\n            <td>165</td>\n            <td>126846</td>\n            <td>90135</td>\n            <td>08</td>\n            <td>00</td>\n            <td>00</td>\n            <td>00</td>\n            <td>-149.876</td>\n            <td>61.18744</td>\n        </tr>\n        <tr>\n            <td>AK</td>\n            <td>AK0003</td>\n            <td>AK0003-002</td>\n            <td>ANDERSON COMMUNITY LIBRARY</td>\n            <td>101 FIRST STREET</td>\n            <td>ANDERSON</td>\n            <td>99744</td>\n            <td>DENALI</td>\n            <td>9075822628</td>\n            <td>NO</td>\n            <td>CI</td>\n            <td>SO</td>\n            <td>Y</td>\n            <td>CI1</td>\n            <td>N</td>\n            <td>7/1/17</td>\n            <td>6/30/18</td>\n            <td>269</td>\n            <td>267</td>\n            <td>1</td>\n            <td>0</td>\n            <td>0</td>\n            <td>0.75</td>\n            <td>15314</td>\n            <td>0</td>\n            <td>201</td>\n            <td>0</td>\n            <td>1403</td>\n            <td>0</td>\n            <td>0</td>\n            <td>0</td>\n            <td>480</td>\n            <td>592</td>\n            <td>300</td>\n            <td>113</td>\n            <td>1137</td>\n            <td>264</td>\n            <td>4</td>\n            <td>5</td>\n            <td>225</td>\n            <td>0</td>\n            <td>08</td>\n            <td>00</td>\n            <td>00</td>\n            <td>00</td>\n            <td>-149.187</td>\n            <td>64.34363</td>\n        </tr>\n        <tr>\n            <td>AK</td>\n            <td>AK0006</td>\n            <td>AK0006-002</td>\n            <td>KUSKOKWIM CONSORTIUM LIBRARY</td>\n            <td>420 CHIEF EDDIE HOFFMAN HIGHWAY</td>\n            <td>BETHEL</td>\n            <td>99559</td>\n            <td>BETHEL</td>\n            <td>9075434516</td>\n            <td>NO</td>\n            <td>MJ</td>\n            <td>SO</td>\n            <td>Y</td>\n            <td>CI1</td>\n            <td>N</td>\n            <td>7/1/17</td>\n            <td>6/30/18</td>\n            <td>6135</td>\n            <td>6085</td>\n            <td>1</td>\n            <td>0</td>\n            <td>0</td>\n            <td>3</td>\n            <td>34860</td>\n            <td>21587</td>\n            <td>425</td>\n            <td>12992</td>\n            <td>3782</td>\n            <td>0</td>\n            <td>0</td>\n            <td>5</td>\n            <td>2040</td>\n            <td>51000</td>\n            <td>1530</td>\n            <td>1912</td>\n            <td>14067</td>\n            <td>3746</td>\n            <td>406</td>\n            <td>8</td>\n            <td>6600</td>\n            <td>5716</td>\n            <td>08</td>\n            <td>00</td>\n            <td>00</td>\n            <td>00</td>\n            <td>-161.771</td>\n            <td>60.79114</td>\n        </tr>\n        <tr>\n            <td>AK</td>\n            <td>AK0007</td>\n            <td>AK0007-002</td>\n            <td>BIG LAKE PUBLIC LIBRARY</td>\n            <td>3140 SOUTH BIG LAKE ROAD</td>\n            <td>BIG LAKE</td>\n            <td>99652</td>\n            <td>MATANUSKA-SUSITNA</td>\n            <td>9078617635</td>\n            <td>NO</td>\n            <td>CO</td>\n            <td>SO</td>\n            <td>Y</td>\n            <td>CO1</td>\n            <td>N</td>\n            <td>7/1/17</td>\n            <td>6/30/18</td>\n            <td>12847</td>\n            <td>12742</td>\n            <td>1</td>\n            <td>0</td>\n            <td>0</td>\n            <td>3</td>\n            <td>28698</td>\n            <td>21587</td>\n            <td>2140</td>\n            <td>12992</td>\n            <td>3805</td>\n            <td>0</td>\n            <td>0</td>\n            <td>47</td>\n            <td>2551</td>\n            <td>62249</td>\n            <td>887</td>\n            <td>2890</td>\n            <td>36670</td>\n            <td>15691</td>\n            <td>363</td>\n            <td>18</td>\n            <td>15022</td>\n            <td>8125</td>\n            <td>08</td>\n            <td>00</td>\n            <td>00</td>\n            <td>00</td>\n            <td>-149.819</td>\n            <td>61.5475</td>\n        </tr>\n    </tbody>\n</table>\n```\n:::\n:::\n\n\n::: {#cell-8 .cell execution_count=8}\n``` {.python .cell-code}\n%%sql\nPRAGMA index_list('pls_fy2018_libraries');\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n * sqlite:///library.db\nDone.\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=8}\n```{=html}\n<table>\n    <thead>\n        <tr>\n            <th>seq</th>\n            <th>name</th>\n            <th>unique</th>\n            <th>origin</th>\n            <th>partial</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>0</td>\n            <td>libname_2018_idx</td>\n            <td>0</td>\n            <td>c</td>\n            <td>0</td>\n        </tr>\n        <tr>\n            <td>1</td>\n            <td>sqlite_autoindex_pls_fy2018_libraries_1</td>\n            <td>1</td>\n            <td>pk</td>\n            <td>0</td>\n        </tr>\n    </tbody>\n</table>\n```\n:::\n:::\n\n\n::: {#cell-9 .cell execution_count=9}\n``` {.python .cell-code}\n%%sql\nSELECT sql FROM sqlite_master WHERE type = 'index' AND name = 'libname_2018_idx';\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n * sqlite:///library.db\nDone.\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=9}\n```{=html}\n<table>\n    <thead>\n        <tr>\n            <th>sql</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>CREATE INDEX libname_2018_idx ON pls_fy2018_libraries (libname)</td>\n        </tr>\n    </tbody>\n</table>\n```\n:::\n:::\n\n\n::: {#cell-10 .cell execution_count=10}\n``` {.python .cell-code}\n%%sql\nSELECT count(*)\nFROM pls_fy2018_libraries;\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n * sqlite:///library.db\nDone.\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=10}\n```{=html}\n<table>\n    <thead>\n        <tr>\n            <th>count(*)</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>9261</td>\n        </tr>\n    </tbody>\n</table>\n```\n:::\n:::\n\n\n::: {#cell-11 .cell execution_count=11}\n``` {.python .cell-code}\n%%sql\nSELECT count(phone)\nFROM pls_fy2018_libraries;\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n * sqlite:///library.db\nDone.\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=11}\n```{=html}\n<table>\n    <thead>\n        <tr>\n            <th>count(phone)</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>9261</td>\n        </tr>\n    </tbody>\n</table>\n```\n:::\n:::\n\n\n::: {#cell-12 .cell execution_count=12}\n``` {.python .cell-code}\n%%sql \nSELECT libname, count(libname)\n    FROM pls_fy2018_libraries\n    GROUP BY libname\n    ORDER BY count(libname) DESC\n    LIMIT 20;\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n * sqlite:///library.db\nDone.\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=12}\n```{=html}\n<table>\n    <thead>\n        <tr>\n            <th>libname</th>\n            <th>count(libname)</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>OXFORD PUBLIC LIBRARY</td>\n            <td>10</td>\n        </tr>\n        <tr>\n            <td>MADISON PUBLIC LIBRARY</td>\n            <td>8</td>\n        </tr>\n        <tr>\n            <td>BLOOMFIELD PUBLIC LIBRARY</td>\n            <td>7</td>\n        </tr>\n        <tr>\n            <td>CARNEGIE PUBLIC LIBRARY</td>\n            <td>7</td>\n        </tr>\n        <tr>\n            <td>PRINCETON PUBLIC LIBRARY</td>\n            <td>7</td>\n        </tr>\n        <tr>\n            <td>BURLINGTON PUBLIC LIBRARY</td>\n            <td>6</td>\n        </tr>\n        <tr>\n            <td>FRANKLIN PUBLIC LIBRARY</td>\n            <td>6</td>\n        </tr>\n        <tr>\n            <td>MILFORD PUBLIC LIBRARY</td>\n            <td>6</td>\n        </tr>\n        <tr>\n            <td>WAYNE COUNTY PUBLIC LIBRARY</td>\n            <td>6</td>\n        </tr>\n        <tr>\n            <td>ANDOVER PUBLIC LIBRARY</td>\n            <td>5</td>\n        </tr>\n        <tr>\n            <td>BRIDGEPORT PUBLIC LIBRARY</td>\n            <td>5</td>\n        </tr>\n        <tr>\n            <td>CANTON PUBLIC LIBRARY</td>\n            <td>5</td>\n        </tr>\n        <tr>\n            <td>ELGIN PUBLIC LIBRARY</td>\n            <td>5</td>\n        </tr>\n        <tr>\n            <td>HILLSBORO PUBLIC LIBRARY</td>\n            <td>5</td>\n        </tr>\n        <tr>\n            <td>JEFFERSON PUBLIC LIBRARY</td>\n            <td>5</td>\n        </tr>\n        <tr>\n            <td>LEBANON PUBLIC LIBRARY</td>\n            <td>5</td>\n        </tr>\n        <tr>\n            <td>LINCOLN PUBLIC LIBRARY</td>\n            <td>5</td>\n        </tr>\n        <tr>\n            <td>LYONS PUBLIC LIBRARY</td>\n            <td>5</td>\n        </tr>\n        <tr>\n            <td>MARION PUBLIC LIBRARY</td>\n            <td>5</td>\n        </tr>\n        <tr>\n            <td>MONROE PUBLIC LIBRARY</td>\n            <td>5</td>\n        </tr>\n    </tbody>\n</table>\n```\n:::\n:::\n\n\n::: {#cell-13 .cell execution_count=13}\n``` {.python .cell-code}\n%%sql\nSELECT max(visits), min(visits)\nFROM pls_fy2018_libraries\nWHERE visits > 0;\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n * sqlite:///library.db\nDone.\n```\n:::\n\n::: {.cell-output .cell-output-display execution_count=13}\n```{=html}\n<table>\n    <thead>\n        <tr>\n            <th>max(visits)</th>\n            <th>min(visits)</th>\n        </tr>\n    </thead>\n    <tbody>\n        <tr>\n            <td>16686945</td>\n            <td>21</td>\n        </tr>\n    </tbody>\n</table>\n```\n:::\n:::\n\n\n\n",
    "supporting": [
      "libraries_files/figure-html"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}