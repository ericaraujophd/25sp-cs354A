<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Lab 05: Generic Containers (Templates) – CS 354 – Database Management Systems</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href=".././images/cs112-logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://kit.fontawesome.com/78ddb093ea.js" crossorigin="anonymous"></script>


<link rel="stylesheet" href="../labs/lab-styles.css">
<meta property="og:title" content="Lab 05: Generic Containers (Templates) – CS 354 – Database Management Systems">
<meta property="og:description" content="CS354 provides a hands-on introduction to relational databases, SQL querying, and database design, focusing on real-world applications, optimization, and security.">
<meta property="og:site_name" content="CS 354 – Database Management Systems">
<meta name="twitter:title" content="Lab 05: Generic Containers (Templates) – CS 354 – Database Management Systems">
<meta name="twitter:description" content="CS354 provides a hands-on introduction to relational databases, SQL querying, and database design, focusing on real-world applications, optimization, and security.">
<meta name="twitter:image" content="https://ericaraujo.com/25sp-cs354A/images/twitter-card.png">
<meta name="twitter:creator" content="@ericfaraujo">
<meta name="twitter:image-height" content="500">
<meta name="twitter:image-width" content="500">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../images/cs112-logo.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">Overview</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../instructors.html"> 
<span class="menu-text">Instructors</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../policies.html"> 
<span class="menu-text">Course Policies</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../content.html"> 
<span class="menu-text">Content</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/ericaraujophd/25sp-cs354A"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#objectives" id="toc-objectives" class="nav-link active" data-scroll-target="#objectives">Objectives:</a></li>
  <li><a href="#set-up" id="toc-set-up" class="nav-link" data-scroll-target="#set-up">Set up</a></li>
  <li><a href="#part-i" id="toc-part-i" class="nav-link" data-scroll-target="#part-i">Part I</a>
  <ul class="collapse">
  <li><a href="#step-1.-converting-the-class-declaration" id="toc-step-1.-converting-the-class-declaration" class="nav-link" data-scroll-target="#step-1.-converting-the-class-declaration">Step 1. Converting the Class Declaration</a></li>
  <li><a href="#step-2.-eliminating-the-implementation-file" id="toc-step-2.-eliminating-the-implementation-file" class="nav-link" data-scroll-target="#step-2.-eliminating-the-implementation-file">Step 2. Eliminating the Implementation File</a></li>
  <li><a href="#step-3.-converting-the-class-methods-to-method-templates" id="toc-step-3.-converting-the-class-methods-to-method-templates" class="nav-link" data-scroll-target="#step-3.-converting-the-class-methods-to-method-templates">Step 3. Converting the Class-Methods to method-templates</a></li>
  <li><a href="#discussion---part-i" id="toc-discussion---part-i" class="nav-link" data-scroll-target="#discussion---part-i">Discussion - Part I</a></li>
  </ul></li>
  <li><a href="#part-ii.-add-support-for-python-like-indexing-to-pylist" id="toc-part-ii.-add-support-for-python-like-indexing-to-pylist" class="nav-link" data-scroll-target="#part-ii.-add-support-for-python-like-indexing-to-pylist">Part II. Add support for Python-like indexing to PyList</a></li>
  <li><a href="#submit" id="toc-submit" class="nav-link" data-scroll-target="#submit">Submit</a></li>
  <li><a href="#grading-rubric-24-pts-total" id="toc-grading-rubric-24-pts-total" class="nav-link" data-scroll-target="#grading-rubric-24-pts-total">Grading Rubric: 24 pts total</a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/ericaraujophd/24sp-cs354A/edit/main/labs/lab05.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/ericaraujophd/24sp-cs354A/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Lab 05: Generic Containers (Templates)</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="objectives" class="level2">
<h2 class="anchored" data-anchor-id="objectives">Objectives:</h2>
<p>In this exercise, you will:</p>
<ol type="1">
<li>Learn about generic containers.</li>
<li>Convert a container class into a class template.</li>
</ol>
<center>
<figure class="figure">
<p><img src="../images/labs/lab05/lab05-header.jpeg" alt="A surreal scene of a data structure visually represented by the beach, specifically a vector. The vector is made of sand or driftwood, extending in a straight line across the beach, symbolizing a one-dimensional array. The nodes or elements of the vector are placed evenly along the shore, with the ocean waves gently lapping at the base of the structure. The sky is clear and bright, with sunlight reflecting off the water. The overall vibe is peaceful, blending the abstract logic of programming with the tranquility of a seaside environment. (created by AI)" width="400" class="figure-img"></p>
<figcaption>
Prompt: A surreal scene of a data structure visually represented by the beach, specifically a vector. The vector is made of sand or driftwood, extending in a straight line across the beach, symbolizing a one-dimensional array. The nodes or elements of the vector are placed evenly along the shore, with the ocean waves gently lapping at the base of the structure. The sky is clear and bright, with sunlight reflecting off the water. The overall vibe is peaceful, blending the abstract logic of programming with the tranquility of a seaside environment.
</figcaption>
</figure>
</center>
</section>
<section id="set-up" class="level2">
<h2 class="anchored" data-anchor-id="set-up">Set up</h2>
<ul>
<li>Click <a href="" target="_blank">this link</a> and then “Accept this assignment”.</li>
<li>Wait a few seconds and refresh the page. Refresh until the page says “You’re ready to go!”. The page has a link to a github repo.</li>
<li>Click the link to see your new repo on github.com.</li>
<li>Click the green <span style="color:green"><strong>Code</strong></span> button and copy the SSH link it shows.</li>
<li>In a terminal,
<ul>
<li><code>cd</code> to the directory where you are putting all your CS112 assignments.</li>
<li>type <code>git clone &lt;paste-the-contents-of-the-link-you-copied&gt;</code></li>
</ul></li>
<li><code>cd</code> to the new directory containing your repo.</li>
<li>type <code>code .</code> to start up Visual Studio Code in that directory.</li>
<li>Inspect the code you got in the assignment.</li>
<li><strong>Make sure you and your partner are in the same Team. Edit <code>README.md</code> and put your name and your programming partner’s name in the file.</strong> <!-- - You might at this time also share the repo in github.com with the partner. --></li>
</ul>
</section>
<section id="part-i" class="level2">
<h2 class="anchored" data-anchor-id="part-i">Part I</h2>
<p>In last week’s exercise, we built a simple but useful vector class named <code>Vec</code>, that stored real (i.e., double) values. To make it easy to change the type of items stored in our Vec, we used a typedef of the form:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode cpp code-with-copy"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">double</span> Item<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>We then meticulously used the name <code>Item</code> everywhere we would have used the type double. By doing so, a user wanting to use a vector of integers could just modify the typedef:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode cpp code-with-copy"><code class="sourceCode cpp"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="kw">typedef</span> <span class="dt">int</span> Item<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>recompile, and our Vec would be a vector of integers!</p>
<p>This approach works fine for simple problems where all of the vectors store the same types of values. However suppose you need vectors of both integer and real items (or some other type of item) in the same program? In this situation, the typedef approach cannot help us – we need a different approach.</p>
<p>Part I of today’s exercise is to convert our Vec class into a <strong>generic container</strong> – a container capable of storing any type of item. To do so in C++, we convert the Vec class into a <strong>class template</strong>. Because we have used the typedef-Item approach to define our Vec class, this conversion is fairly simple.</p>
<p>The tests in the provided <strong>tests.cpp</strong> have <strong>not</strong> been revised to use a <strong>Vec template</strong>. You will be changing <strong>Vec.h</strong>, <strong>Vec.cpp</strong>, and <strong>tests.cpp</strong> in today’s exercise.</p>
<p>As its name suggests, a <strong>class template</strong> is a plan or blueprint from which the compiler can build a class. Once we have converted our Vec class into a <code>Vec&lt;Item&gt;</code> template, a user of the class will be able to write:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode cpp code-with-copy"><code class="sourceCode cpp"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>Vec<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> v1<span class="op">;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>Vec<span class="op">&lt;</span><span class="dt">double</span><span class="op">&gt;</span> v2<span class="op">;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>Vec<span class="op">&lt;</span>string<span class="op">&gt;</span> v3<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Given these declarations, the C++ compiler will use the <code>Vec&lt;Item&gt;</code> template to build three classes:</p>
<ol type="1">
<li>A class that is a vector for storing integer values.</li>
<li>Another class that is a vector for storing double values.</li>
<li>Another class that is a vector for storing string values.</li>
</ol>
<p>The compiler will use these behind-the-scenes classes as the types of <code>v1</code>, <code>v2</code>, and <code>v3</code>. For every declaration in which we pass a new type into the template, the compiler will build a new class, and then use that class as the declaration’s type.</p>
<p>With that as our introduction, let’s get on with turning our Vec class into a <code>Vec&lt;Item&gt;</code> class template.</p>
<section id="step-1.-converting-the-class-declaration" class="level3">
<h3 class="anchored" data-anchor-id="step-1.-converting-the-class-declaration">Step 1. Converting the Class Declaration</h3>
<p>The first step in converting a class into a class template is to <strong>delete the typedef declaration</strong> we used previously – so remove the line defining <code>Item</code> as a double. In its place, we place the phrase <code>template&lt;class Item&gt;</code> immediately before the class declaration:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode cpp code-with-copy"><code class="sourceCode cpp"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">template</span> <span class="op">&lt;</span><span class="kw">class</span> Item<span class="op">&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> Vec <span class="op">{</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>       <span class="op">...</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="op">};</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Do this now.</p>
<p>This revised declaration tells the C++ compiler that</p>
<ol type="1">
<li>What’s coming is a class template, not a class.</li>
<li>This template has a single parameter, whose name is <code>Item</code>.</li>
<li>The word class before <code>Item</code> indicates that <code>Item</code> represents a type, not a variable or object.</li>
</ol>
<p>It is worth mentioning that the name <code>Item</code> is an identifier we have chosen, since it is what we used for our typedef. The words template and class are C++ keywords, they cannot be changed.</p>
<p>Once this declaration has been processed, the name of the template is <code>Vec&lt;Item&gt;</code>.</p>
</section>
<section id="step-2.-eliminating-the-implementation-file" class="level3">
<h3 class="anchored" data-anchor-id="step-2.-eliminating-the-implementation-file">Step 2. Eliminating the Implementation File</h3>
<p>Because the C++ compiler uses a template as a blueprint from which it builds a class, the compiler needs to be able to see the entire class – class declaration plus method definitions – when a program using the template is compiled. This means that the entire class template – template declaration plus method definitions – must appear in the header file, in order for a program that <code>#include</code>s the header file to compile, or linking errors will occur. So our next step is to select the method definitions in the implementation file, cut them, and paste them into the header file, between the template declaration and the <code>#endif</code>.</p>
<p>In <strong>Vec.cpp</strong>, select all of the method definitions, cut them (Ctrl-X or Cmd-X) from the .cpp file. Switch to the <strong>Vec.h</strong>, move the cursor to a point between the end of the template declaration and the <code>#endif</code>, and paste them in (using Ctrl-v).</p>
<p>If there are <code>#include</code> directives in the <strong>Vec.cpp</strong> file that are <strong>not</strong> in <strong>Vec.h</strong> (except for <strong>Vec.h</strong> itself), they will also need to be cut-and-pasted into <strong>Vec.h</strong>. (It is often necessary to cut-and-paste <code>#include &lt;iostream&gt;</code>.)</p>
<p>Now that the method definitions have been moved from <strong>Vec.cpp</strong> to <strong>Vec.h</strong>, you should delete <strong>Vec.cpp</strong> from your project.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>Note that you will need to update your <strong>Makefile</strong>! Find the <strong>Vec.cpp</strong> reference in the SOURCES line and <span style="color:red"><strong>remove</strong></span> it.</p>
</div>
</div>
</section>
<section id="step-3.-converting-the-class-methods-to-method-templates" class="level3">
<h3 class="anchored" data-anchor-id="step-3.-converting-the-class-methods-to-method-templates">Step 3. Converting the Class-Methods to method-templates</h3>
<p>We now have a class template, but our methods are still class methods. Our next step is to convert each class method into a template method. Test-driven development gives us a systematic, method-by-method means of doing this conversion, without getting overwhelmed by a zillion compiler errors.</p>
<p>You should see the message indicating there are no tests if you <strong>comment out all of the Vec prototypes</strong>, and <strong>all of the method definitions you just pasted into the header file</strong>. If you want to, and compile (<code>make tester</code>) and run your project(<code>./tester</code>). Just remember that your code was drastically changed, and might not function anymore if you don’t comment certain parts. <strong>You should see the message indicating there are no tests.</strong></p>
<p>Our test-driven procedure will be to: (don’t do this yet – just read the steps below)</p>
<ol type="1">
<li><p>In <strong>tests.cpp</strong>, uncomment the <code>TEST_CASE</code>. Convert all uses of Vec to be <code>Vec&lt;sometype&gt;</code>. You may choose what type to put in between the <code>&lt;</code> and <code>&gt;</code>, but the type should be an integer type – int, unsigned, short, char, unsigned char, long, etc.</p></li>
<li><p>In <strong>Vec.h</strong>, uncomment the corresponding method (i.e., its prototype within the class and its definition outside the class.)</p></li>
<li><p>Convert the method’s definition into a method-template.</p></li>
<li><p>Compile and run the tester.</p></li>
<li><p>If any errors are reported, find and fix them;</p>
<p>Otherwise, return to step 1.</p></li>
</ol>
<p>Converting a method definition (step 3) to a method-template is fairly simple:</p>
<ol type="1">
<li>Place <code>template &lt;class Item&gt;</code> before the beginning of the method’s definition.</li>
<li>In the method definition, find each place where the name of the class (e.g., Vec) <strong>is being used as a type</strong> – each use except when it is being used as the name of an operation like the name of a constructor or destructor – and replace it with the parameterized name of the template (e.g., <code>Vec&lt;Item&gt;</code>).</li>
</ol>
<p>So the rest of Part I is to use these steps to convert each of the Vec methods to method-templates.</p>
<p>To illustrate this conversion process, let’s run through these steps using some of the Vec constructors.</p>
<section id="step-3a.-the-default-constructor." class="level4">
<h4 class="anchored" data-anchor-id="step-3a.-the-default-constructor.">Step 3a. The Default Constructor.</h4>
<p>In <strong>tests.cpp</strong>, uncomment the test that tests the default constructor and convert it to use <code>Vec&lt;sometype&gt;</code>. (Make sure to uncomment the matching curly brackets (}) at the end of the test case section.) Then switch to <strong>Vec.h</strong> and find the definition of the default constructor. We can perform step 1 by placing <code>template&lt;class Item&gt;</code> before the constructor definition:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode cpp code-with-copy"><code class="sourceCode cpp"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">template</span><span class="op">&lt;</span><span class="kw">class</span> Item<span class="op">&gt;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>Vec<span class="op">::</span>Vec<span class="op">()</span> <span class="op">{</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">...</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>That completes step 1.</p>
<p>For step 2, we replace each use of the name of the class (Vec) that is not the name of an operation with the name of the template (<code>Vec&lt;Item&gt;</code>), as follows:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode cpp code-with-copy"><code class="sourceCode cpp"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="kw">template</span><span class="op">&lt;</span><span class="kw">class</span> Item<span class="op">&gt;</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>Vec<span class="op">&lt;</span>Item<span class="op">&gt;::</span>Vec<span class="op">()</span> <span class="op">{</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">...</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>That’s it! Save all changes, and compile and run your tests. If you find errors, find and fix them before continuing.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Hint
</div>
</div>
<div class="callout-body-container callout-body">
<p>You may need to make some additional changes before things build. More than likely, compilation of the tester will not succeed until you have converted several other methods that are used in the default constructor tests, including the destructor.</p>
</div>
</div>
<p>Congratulations! You have just converted your first class-method into a method-template!</p>
</section>
<section id="step-3b.-the-explicit-value-constructor." class="level4">
<h4 class="anchored" data-anchor-id="step-3b.-the-explicit-value-constructor.">Step 3b. The Explicit-Value Constructor.</h4>
<p>Using what we just did to the default constructor as a model, uncomment the explicit constructor’s test, fix the types, then convert the explicit constructor into a method-template. Compile and run your project. If errors occur, fix them. When it passes all tests continue.</p>
<p>Note that within this constructor, the allocation of the dynamic array uses <code>Item</code>. Previously, this <code>Item</code> was determined by the <code>typedef</code> declaration; but now, <code>Item</code> refers to the name of our template’s parameter. If the user declares:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode cpp code-with-copy"><code class="sourceCode cpp"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>Vec<span class="op">&lt;</span><span class="dt">double</span><span class="op">&gt;</span> v1<span class="op">;</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>Vec<span class="op">&lt;</span><span class="dt">int</span><span class="op">&gt;</span> v2<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>then in <code>v1</code>, all of the occurrences of <code>Item</code> will be replaced by double, while in <code>v2</code>, all the occurrences of <code>Item</code> will be replaced by <strong>int</strong>.</p>
<p>Congratulations! You’ve just done another method-to-method-template conversion!</p>
</section>
<section id="step-3c.-the-copy-constructor." class="level4">
<h4 class="anchored" data-anchor-id="step-3c.-the-copy-constructor.">Step 3c. The Copy Constructor.</h4>
<p>Uncomment and fix the copy constructor’s test. In <strong>Vec.h</strong>, find the copy constructor’s definition. As before, we place <code>template&lt;class Item&gt;</code> before the definition, and replace each occurrence of the name of the class that is not the name of an operation with the name of the template:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode cpp code-with-copy"><code class="sourceCode cpp"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">template</span><span class="op">&lt;</span><span class="kw">class</span> Item<span class="op">&gt;</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>Vec<span class="op">&lt;</span>Item<span class="op">&gt;::</span>Vec<span class="op">(</span><span class="at">const</span> Vec<span class="op">&lt;</span>Item<span class="op">&gt;&amp;</span> original<span class="op">)</span> <span class="op">{</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="op">...</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that the type of any Vec parameter or local variable must be replaced by <code>Vec&lt;Item&gt;</code>. This is consistent with our “conversion rule” – any use of the name of the class that is not the name of an operation (i.e., a constructor or destructor) must be replaced.</p>
<p>Compile and run your project. Continue when it passes all tests.</p>
</section>
<section id="step-3d.-the-destructor." class="level4">
<h4 class="anchored" data-anchor-id="step-3d.-the-destructor.">Step 3d. The Destructor.</h4>
<p>If you have not already done so, convert the destructor to a method-template. Continue when your conversion passes all tests.</p>
</section>
<section id="step-3e.-the-remaining-operations." class="level4">
<h4 class="anchored" data-anchor-id="step-3e.-the-remaining-operations.">Step 3e. The Remaining Operations.</h4>
<p>Now that you know how to do the conversion, we can speed up this mechanical process a bit.</p>
<p>At the destructor definition, comment out the line <code>template&lt;class Item&gt;</code>. Then copy the line <code>//template&lt;class Item&gt;</code>. With the remaining operations still commented out, use Ctrl-v to paste that line at the beginning of each of the remaining operations in the header file.</p>
<p>Return to the destructor’s definition and uncomment the line <code>template&lt;class Item&gt;</code> in the destructor. Then copy the “phrase” <item>. With the remaining operations still commented out, paste this after each use of the name of the class that is not the name of an operation, throughout the rest of the header file.</item></p>
<p>Then, one untested method at a time:</p>
<ol type="1">
<li>Uncomment the converted method.</li>
<li>Uncomment its corresponding test.</li>
<li>Uncomment the call to that test.</li>
<li>Compile and run the test. When it passes the test, continue to the next untested method.</li>
</ol>
<p>By using this <em>methodical</em> approach (Ha, ha! Get it?!?), any compilation errors that occur should be confined to the newly uncommented method-template. This will make it easier and faster for you to find and fix the errors.</p>
<p>Use this approach to complete the conversion of class <code>Vec</code> to the <code>template Vec&lt;Item&gt;</code>.</p>
<p>Congratulations! You have just built your first class template!</p>
</section>
</section>
<section id="discussion---part-i" class="level3">
<h3 class="anchored" data-anchor-id="discussion---part-i">Discussion - Part I</h3>
<p>As you can see, the C++ syntax to build class templates is a bit complicated, and it is quite easy to make syntax errors if you try to build a template container from the outset. For this reason, we recommend this 2-step approach to building containers:</p>
<ol type="1">
<li>Use the typedef-Item mechanism to build a container class and thoroughly test its operations.</li>
<li>Convert the Item container class into a template that receives its type via a parameter.</li>
</ol>
<p>By doing so, you can build and test the container in step 1, and debug the logic of its operations. Then (as we have seen today), converting it to a template in step 2 is a mechanical process.</p>
<p>Because <strong>any</strong> type can be passed via the template’s parameter, a container built as a template can store any kind of value. Because they are defined to store “generic” items, container templates are often called generic containers. The template is the C++ mechanism for building generic containers; other languages (e.g., Ada, Java) provide other (simpler) mechanisms.</p>
</section>
</section>
<section id="part-ii.-add-support-for-python-like-indexing-to-pylist" class="level2">
<h2 class="anchored" data-anchor-id="part-ii.-add-support-for-python-like-indexing-to-pylist">Part II. Add support for Python-like indexing to PyList</h2>
<p>Before proceeding, comment out all code in the <strong>tests.cpp</strong> file that runs the tests for Part I – including the <code>#include “Vec.h”</code> statement.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Make sure that <em>catch.hpp</em> stays included!</strong> And uncomment PyList testing code (i.e., toggle the comments that are there).</p>
</div>
</div>
<p>The makefile is currently not compiling <strong>PyList.cpp</strong>, so you need to change it. Change the SOURCES line, adding <strong>PyList.cpp</strong>.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>If <strong>Vec.cpp</strong> is still there, it should be removed at this time.</p>
</div>
</div>
<p>Look at the <strong>PyList.cpp</strong> and <strong>PyList.h</strong> files.</p>
<p>Build and run. The execution should succeed, testing the existing PyList functionality.</p>
<p>In Python, you can index a list using negative numbers. The last item in the list is at index -1, the second-to-last at -2, etc. The first item in the list, e.g., <code>lst[0]</code>, is the same as <code>lst[-10]</code>, if there are 10 items in the list. Here are some examples of how python behaves:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> lst <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">10</span>))</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> lst</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>[<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>]  <span class="co"># in this example, the values are the same as the indices</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> lst[<span class="op">-</span><span class="dv">1</span>]                <span class="co"># last item</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="dv">9</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> lst[<span class="op">-</span><span class="dv">8</span>]                <span class="co"># penultimate item</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="dv">2</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> lst[<span class="op">-</span><span class="dv">10</span>]               <span class="co"># same as lst[0]</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="dv">0</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> lst[<span class="op">-</span><span class="dv">11</span>]               <span class="co"># cannot index off the "front" of the array</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>  File <span class="st">"&lt;stdin&gt;"</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="pp">IndexError</span>: <span class="bu">list</span> index out of <span class="bu">range</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="op">&gt;&gt;&gt;</span> lst[<span class="dv">10</span>]                <span class="co"># cannot index off the end of the array</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>Traceback (most recent call last):</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>  File <span class="st">"&lt;stdin&gt;"</span>, line <span class="dv">1</span>, <span class="kw">in</span> <span class="op">&lt;</span>module<span class="op">&gt;</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a><span class="pp">IndexError</span>: <span class="bu">list</span> index out of <span class="bu">range</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>In the <strong>tests.cpp</strong> file, there are already tests for this feature, but they are still commented out. Uncomment them, and run the test. You’ll see failures. In fact, you might see a <strong>Segmentation Fault</strong>.</p>
<p>Now, implement the feature. You’ll have to alter <code>getValue()</code>, <code>setValue()</code>, and <code>operator[]</code>, so that the Python-like index is converted to a legal C++ index before accessing <code>myArray</code>. Because the code to check for a legal index is the same in those three methods, I put the common code into a new private method called <code>validate_index(index)</code>, described in the table below. Then, my whole implementation of <code>getValue()</code> becomes very short: <code>return myArray[validate_index(index)];</code></p>
<p>Here is a summary of <code>validate_index()</code>:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Method</strong></th>
<th><strong>Parameters</strong></th>
<th><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>validate_index()</td>
<td>int index</td>
<td>The purpose of this function is to convert what would be a legal python index into a legal C++ index.<br><br>Make note, does this method change anything in our class? If it doesn’t, should we make this a const function?<br><br><strong>Algorithm:</strong> <br><br>- If the index is &gt;= n, throw a range_error exception. <br>- If the index is &lt; -n, throw a range_error exception. <br><br>Convert the index to be between 0 and n-1 if necessary. Return the index back.</td>
</tr>
</tbody>
</table>
<p>Finally, implement a <code>find()</code> method as described below:</p>
<table class="caption-top table">
<colgroup>
<col style="width: 33%">
<col style="width: 33%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Method</strong></th>
<th><strong>Parameters</strong></th>
<th><strong>Notes</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>find()</td>
<td>an <code>Item</code> to search for</td>
<td>If the item is found in the array, return the index. Otherwise, return -1.</td>
</tr>
</tbody>
</table>
<p>First, add a <code>SECTION("find")</code> to the “PyLists” TEST_CASE in <strong>tests.cpp</strong> to test the find command. You’ll want to make sure you try to find items that are in a PyList and items that are not in the list. You should also make sure that if an <code>Item</code> is in a list more than one time, the index of the first item is returned.</p>
<p>After you are satisfied with your tests, and you prove that your tests fail, then implement the <code>find()</code> method.</p>
<p>After you do this and have all your tests passing, then <strong>Uncomment all the Vec tests</strong> in <strong>tests.cpp</strong>, so that ALL tests are now available, both for Vec and for PyList. Then, of course, recompile and run <code>./tester</code> to make sure it tests both Vec and PyList.</p>
</section>
<section id="submit" class="level2">
<h2 class="anchored" data-anchor-id="submit">Submit</h2>
<p>Don’t forget to commit AND sync your code to your repo for grading.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Verify you have synced your code to github by going to your online repo webpage and looking to see that the files are correct.</p>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Verify that the automated tests have passed in github.com.</p>
</div>
</div>
</section>
<section id="grading-rubric-24-pts-total" class="level2">
<h2 class="anchored" data-anchor-id="grading-rubric-24-pts-total">Grading Rubric: 24 pts total</h2>
<p>This lab will be graded the following way: 24 pts total</p>
<ul>
<li>Part I: 10 pts
<ul>
<li>All code has been converted to a class template correctly: 5 pts</li>
<li>All tests pass: 5 pts.</li>
</ul></li>
<li>Part II: 10 pts.
<ul>
<li>Negative indexing works correctly, as indicated by thorough tests: 5pt</li>
<li><code>find()</code> works correctly: 5 pts.</li>
</ul></li>
<li>Code is clean, perfectly indented, hospitable: 2pts</li>
<li>Code builds correctly: 2 pts</li>
</ul>
<p>Ways students lost points in the past:</p>
<ul>
<li>-2: Can’t make tester. Error occurs.</li>
<li>-2: Late submission</li>
<li>-4: Grader had to edit the makefile to build.</li>
<li>-2: Tests fail</li>
</ul>
<!-- [^1]: how to add footnotes. -->


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/ericaraujo\.com\/25sp-cs354A");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>This page is built with ❤️ and <a href="https://quarto.org/">Quarto</a>.</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/ericaraujophd/24sp-cs354A/edit/main/labs/lab05.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/ericaraujophd/24sp-cs354A/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 License
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>